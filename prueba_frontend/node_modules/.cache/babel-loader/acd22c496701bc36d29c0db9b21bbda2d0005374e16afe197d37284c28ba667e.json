{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleja\\\\OneDrive\\\\Documentos\\\\Proyectos Jonathan\\\\PruebaFrontend\\\\prueba_frontend\\\\src\\\\components\\\\CartContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cartActionTypes = {\n  ADD_TO_CART: 'ADD_TO_CART',\n  REMOVE_FROM_CART: 'REMOVE_FROM_CART',\n  INCREMENT_QUANTITY: 'INCREMENT_QUANTITY',\n  DECREMENT_QUANTITY: 'DECREMENT_QUANTITY'\n};\nconst cartReducer = (state, action) => {\n  if (!state.cart) {\n    state.cart = [];\n  }\n  switch (action.type) {\n    case cartActionTypes.ADD_TO_CART:\n      const {\n        product\n      } = action;\n      const existingProductIndex = state.cart.findIndex(item => item.id === product.id);\n      if (existingProductIndex !== -1) {\n        // Si el producto ya existe, incrementar la cantidad\n        state.cart[existingProductIndex].quantity += 1;\n        return {\n          ...state,\n          cart: [...state.cart]\n        };\n      } else {\n        // Si el producto no existe en el carrito, agregarlo\n        return {\n          ...state,\n          cart: [...state.cart, {\n            ...product,\n            quantity: 1\n          }]\n        };\n      }\n    case cartActionTypes.REMOVE_FROM_CART:\n      return {\n        ...state,\n        cart: state.cart.filter(item => item.id !== action.productId)\n      };\n    case cartActionTypes.INCREMENT_QUANTITY:\n      return {\n        ...state,\n        cart: state.cart.map(item => item.id === action.productId ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item)\n      };\n    case cartActionTypes.DECREMENT_QUANTITY:\n      return {\n        ...state,\n        cart: state.cart.map(item => item.id === action.productId && item.quantity > 1 ? {\n          ...item,\n          quantity: item.quantity - 1\n        } : item)\n      };\n    default:\n      return state;\n  }\n};\nconst loadCartFromLocalStorage = () => {\n  const cartData = localStorage.getItem('cart');\n  console.log('Cart Data:', cartData);\n  console.log('Datos cargados del localStorage:', cartData);\n  return cartData ? JSON.parse(cartData) : {\n    cart: []\n  };\n};\nconst CartContext = /*#__PURE__*/createContext();\nconst CartProvider = ({\n  children\n}) => {\n  _s();\n  const [cartState, dispatch] = useReducer(cartReducer, loadCartFromLocalStorage);\n  useEffect(() => {\n    // Guardar el carrito en el localStorage cada vez que cambie\n    localStorage.setItem('cart', JSON.stringify(cartState));\n  }, [cartState]);\n  const addToCart = product => {\n    console.log('Añadiendo al carrito:', product);\n    dispatch({\n      type: cartActionTypes.ADD_TO_CART,\n      product\n    });\n  };\n  const removeFromCart = productId => {\n    console.log('Eliminando del carrito:', productId);\n    dispatch({\n      type: cartActionTypes.REMOVE_FROM_CART,\n      productId\n    });\n  };\n  const incrementQuantity = productId => {\n    console.log('Incrementando cantidad:', productId);\n    dispatch({\n      type: cartActionTypes.INCREMENT_QUANTITY,\n      productId\n    });\n  };\n  const decrementQuantity = productId => {\n    console.log('Decrementando cantidad:', productId);\n    dispatch({\n      type: cartActionTypes.DECREMENT_QUANTITY,\n      productId\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart: cartState.cart,\n      addToCart,\n      removeFromCart,\n      incrementQuantity,\n      decrementQuantity\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"r8bQHnvZkIKVW1lbBF1O8sa1AAQ=\");\n_c = CartProvider;\nconst useCart = () => {\n  _s2();\n  return useContext(CartContext);\n};\n_s2(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { CartProvider, useCart };\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","jsxDEV","_jsxDEV","cartActionTypes","ADD_TO_CART","REMOVE_FROM_CART","INCREMENT_QUANTITY","DECREMENT_QUANTITY","cartReducer","state","action","cart","type","product","existingProductIndex","findIndex","item","id","quantity","filter","productId","map","loadCartFromLocalStorage","cartData","localStorage","getItem","console","log","JSON","parse","CartContext","CartProvider","children","_s","cartState","dispatch","setItem","stringify","addToCart","removeFromCart","incrementQuantity","decrementQuantity","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCart","_s2","$RefreshReg$"],"sources":["C:/Users/aleja/OneDrive/Documentos/Proyectos Jonathan/PruebaFrontend/prueba_frontend/src/components/CartContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\n\r\nconst cartActionTypes = {\r\n  ADD_TO_CART: 'ADD_TO_CART',\r\n  REMOVE_FROM_CART: 'REMOVE_FROM_CART',\r\n  INCREMENT_QUANTITY: 'INCREMENT_QUANTITY',\r\n  DECREMENT_QUANTITY: 'DECREMENT_QUANTITY',\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  if (!state.cart) {\r\n    state.cart = [];\r\n  }\r\n\r\n  switch (action.type) {\r\n    case cartActionTypes.ADD_TO_CART:\r\n      const { product } = action;\r\n      const existingProductIndex = state.cart.findIndex((item) => item.id === product.id);\r\n\r\n      if (existingProductIndex !== -1) {\r\n        // Si el producto ya existe, incrementar la cantidad\r\n        state.cart[existingProductIndex].quantity += 1;\r\n        return {\r\n          ...state,\r\n          cart: [...state.cart],\r\n        };\r\n      } else {\r\n        // Si el producto no existe en el carrito, agregarlo\r\n        return {\r\n          ...state,\r\n          cart: [...state.cart, { ...product, quantity: 1 }],\r\n        };\r\n      }\r\n    case cartActionTypes.REMOVE_FROM_CART:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((item) => item.id !== action.productId),\r\n      };\r\n    case cartActionTypes.INCREMENT_QUANTITY:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.map((item) =>\r\n          item.id === action.productId ? { ...item, quantity: item.quantity + 1 } : item\r\n        ),\r\n      };\r\n    case cartActionTypes.DECREMENT_QUANTITY:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.map((item) =>\r\n          item.id === action.productId && item.quantity > 1\r\n            ? { ...item, quantity: item.quantity - 1 }\r\n            : item\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst loadCartFromLocalStorage = () => {\r\n    const cartData = localStorage.getItem('cart');\r\n    console.log('Cart Data:', cartData);\r\n\r\n    console.log('Datos cargados del localStorage:', cartData);\r\n    return cartData ? JSON.parse(cartData) : { cart: [] };\r\n  };\r\n  \r\n\r\nconst CartContext = createContext();\r\n\r\nconst CartProvider = ({ children }) => {\r\n  const [cartState, dispatch] = useReducer(cartReducer, loadCartFromLocalStorage);\r\n\r\n  useEffect(() => {\r\n    // Guardar el carrito en el localStorage cada vez que cambie\r\n    localStorage.setItem('cart', JSON.stringify(cartState));\r\n  }, [cartState]);\r\n\r\n  const addToCart = (product) => {\r\n    console.log('Añadiendo al carrito:', product);\r\n    dispatch({ type: cartActionTypes.ADD_TO_CART, product });\r\n  };\r\n  \r\n  const removeFromCart = (productId) => {\r\n    console.log('Eliminando del carrito:', productId);\r\n    dispatch({ type: cartActionTypes.REMOVE_FROM_CART, productId });\r\n  };\r\n  \r\n  const incrementQuantity = (productId) => {\r\n    console.log('Incrementando cantidad:', productId);\r\n    dispatch({ type: cartActionTypes.INCREMENT_QUANTITY, productId });\r\n  };\r\n  \r\n  const decrementQuantity = (productId) => {\r\n    console.log('Decrementando cantidad:', productId);\r\n    dispatch({ type: cartActionTypes.DECREMENT_QUANTITY, productId });\r\n  };\r\n  \r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart: cartState.cart,\r\n        addToCart,\r\n        removeFromCart,\r\n        incrementQuantity,\r\n        decrementQuantity,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nconst useCart = () => {\r\n  return useContext(CartContext);\r\n};\r\n\r\nexport { CartProvider, useCart };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}